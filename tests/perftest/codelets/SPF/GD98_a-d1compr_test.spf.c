#define max(x, y) ((x) > (y) ? (x) : (y))
#define min(x, y) ((x) < (y) ? (x) : (y))

#define restrict __restrict

void kernel_spmv_fragment_0(double *restrict A, double *restrict x,
                            double *restrict y) {
  register int i0, i1, i2, i3, i4, i5, i6;

#pragma macveth unroll i0 full
  for (i0 = 0; i0 <= 3; ++i0) {
    y[0 * i0 + 9] += A[i0 + 0] * x[7 * i0 + 4];
  }
  for (i0 = 0; i0 <= 2; ++i0) {
    y[0 * i0 + 0] += A[i0 + 4] * x[2 * i0 + 4];
  }

  for (i0 = 0; i0 <= 2; ++i0) {
    y[0 * i0 + 1] += A[i0 + 7] * x[5 * i0 + 12];
  }

  for (i0 = 0; i0 <= 2; ++i0) {
    y[2 * i0 + 0] += A[i0 + 7] * x[5 * i0 + 12];
  }
  y[0] += A[9845] * x[14];
  // y[1] += A[9846] * x[174];
  // y[2] += A[9847] * x[334];
  // y[3] += A[9848] * x[4012];
  // y[7] += A[9849] * x[1772];
  // y[8] += A[9850] * x[2412];
  // y[9] += A[9851] * x[2731];
  // y[10] += A[9852] * x[3212];
  // y[1] += A[9853] * x[3533];
  // y[14] += A[9854] * x[0];
  // y[14] += A[9855] * x[4013];
  // y[174] += A[9856] * x[1];
  // y[174] += A[9857] * x[4015];
  // y[333] += A[9858] * x[333];
  // y[334] += A[9859] * x[2];
  // y[335] += A[9860] * x[4014];
  // y[494] += A[9861] * x[2251];
  // y[495] += A[9862] * x[1132];
  // y[653] += A[9863] * x[1612];
  // y[654] += A[9864] * x[813];
  // y[812] += A[9865] * x[1612];
  // y[813] += A[9866] * x[654];
  // y[813] += A[9867] * x[4017];
  // y[1132] += A[9868] * x[495];
  // y[1132] += A[9869] * x[1132];
  // y[1133] += A[9870] * x[1452];
  // y[1291] += A[9871] * x[1772];
  // y[1292] += A[9872] * x[4018];
  // y[1452] += A[9873] * x[1133];
  // y[1452] += A[9874] * x[4022];
  // y[1453] += A[9875] * x[4012];
  // y[1612] += A[9876] * x[653];
  // y[1612] += A[9877] * x[812];
  // y[1612] += A[9878] * x[1612];
  // y[1612] += A[9879] * x[4016];
  // y[1613] += A[9880] * x[1772];
  // y[1771] += A[9881] * x[4012];
  // y[1772] += A[9882] * x[7];
  // y[1772] += A[9883] * x[1291];
  // y[1772] += A[9884] * x[1613];
  // y[1932] += A[9885] * x[1932];
  // y[1932] += A[9886] * x[4025];
  // y[2091] += A[9887] * x[4012];
  // y[2092] += A[9888] * x[2251];
  // y[2250] += A[9889] * x[2412];
  // y[2251] += A[9890] * x[494];
  // y[2251] += A[9891] * x[2092];
  // y[2411] += A[9892] * x[4019];
  // y[2412] += A[9893] * x[8];
  // y[2412] += A[9894] * x[2250];
  // y[2572] += A[9895] * x[2732];
  // y[2731] += A[9896] * x[9];
  // // /* CAUSING BUG */
  // y[2732] += A[9897] * x[2572];
  // // y[3212] += A[9898] * x[10];
  // y[3372] += A[9899] * x[3533];
  // y[3373] += A[9900] * x[4026];
  // y[3533] += A[9901] * x[11];
  // y[3533] += A[9902] * x[3372];
  // y[3533] += A[9903] * x[4025];
  // y[3692] += A[9904] * x[4012];
  // y[3693] += A[9905] * x[3852];
  // y[3851] += A[9906] * x[4012];
  // y[3852] += A[9907] * x[3693];
  // y[3852] += A[9908] * x[4027];
  // y[4012] += A[9909] * x[3];
  // y[4012] += A[9910] * x[1453];
  // y[4012] += A[9911] * x[1771];
  // y[4012] += A[9912] * x[2091];
  // y[4012] += A[9913] * x[3692];
  // y[4012] += A[9914] * x[3851];
  // y[4013] += A[9915] * x[14];
  // y[4015] += A[9916] * x[174];
  // y[4016] += A[9917] * x[1612];
  // y[4017] += A[9918] * x[813];
  // y[4018] += A[9919] * x[1292];
  // y[4019] += A[9920] * x[2411];
  // y[4020] += A[9921] * x[334];
  // y[4022] += A[9922] * x[1452];
  // y[4025] += A[9923] * x[1932];
  // y[4025] += A[9924] * x[3533];
  // y[4026] += A[9925] * x[3373];
  // y[4027] += A[9926] * x[3852];
#pragma endmacveth
  for (i0 = 0; i0 <= 1; ++i0) {
    y[0 * i0 + 0] += A[i0 + 13] * x[2 * i0 + 29];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[0 * i0 + 9] += A[i0 + 15] * x[2 * i0 + 15];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[0 * i0 + 9] += A[i0 + 17] * x[2 * i0 + 28];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[0 * i0 + 23] += A[i0 + 19] * x[3 * i0 + 24];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[0 * i0 + 2] += A[i0 + 21] * x[4 * i0 + 9];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[0 * i0 + 22] += A[i0 + 23] * x[4 * i0 + 9];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[0 * i0 + 9] += A[i0 + 25] * x[5 * i0 + 1];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[0 * i0 + 10] += A[i0 + 27] * x[7 * i0 + 9];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[1 * i0 + 1] += A[i0 + 29] * x[0 * i0 + 0];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[1 * i0 + 21] += A[i0 + 31] * x[0 * i0 + 0];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[1 * i0 + 9] += A[i0 + 33] * x[4 * i0 + 22];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[2 * i0 + 32] += A[i0 + 35] * x[2 * i0 + 33];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[3 * i0 + 23] += A[i0 + 37] * x[-7 * i0 + 16];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[4 * i0 + 10] += A[i0 + 39] * x[0 * i0 + 0];
  }
  for (i0 = 0; i0 <= 1; ++i0) {
    y[4 * i0 + 1] += A[i0 + 41] * x[7 * i0 + 9];
  }
  //#pragma endmacveth
}

void kernel_spmv(double *restrict A, double *restrict x, double *restrict y,
                 long long n, long long *indptr, long long *indices) {
  register int i, j;

  kernel_spmv_fragment_0(A, x, y);

  for (i = 0; i < 7; ++i) {
    y[indptr[i]] += A[43 + i] * x[indices[i]];
  }
}
